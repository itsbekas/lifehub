services:
  lifehub-backend:
    build:
      context: backend/
    container_name: lifehub-backend
    environment:
      - DB_HOST=lifehub-mariadb
      - DB_USER=${MARIADB_USER}
      - DB_PASSWORD=${MARIADB_PASSWORD}
      - DB_NAME=${MARIADB_DATABASE}
      - FRONTEND_URL=http://lifehub-frontend
    ports:
      - "8000:8000"

  lifehub-frontend:
    build:
      context: frontend/
      dockerfile: Dockerfile
    container_name: lifehub-frontend
    environment:
      - VITE_BACKEND_URL=lifehub-backend
    ports:
      - "80:5173"
    depends_on:
      - lifehub-backend

volumes:
  dbdata:
    driver: local
